# Enhanced Debug Information System

–°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

- **TraceEnhancer** (`src/utils/traceEnhancer.ts`) - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —Å–±–æ—Ä–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ wdio.conf.ts** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ lifecycle —Ç–µ—Å—Ç–æ–≤
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è adb –∫–æ–º–∞–Ω–¥

## –ß—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–∞

üîç **–ü–æ–ª–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**

- Timestamp –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (activity, package, —Å–µ—Ç—å)
- –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, Android –≤–µ—Ä—Å–∏—è, –ø–∞–º—è—Ç—å, –±–∞—Ç–∞—Ä–µ—è)
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º)

üì± **UI Hierarchy (XML):**

- –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫—Ä–∞–Ω–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –æ—à–∏–±–∫–∏
- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
- –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –ø–æ—á–µ–º—É —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª–µ–Ω

üìã **–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

- –¢–æ–ª—å–∫–æ –ª–æ–≥–∏ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (com.fin.whiteswan)
- React Native –ª–æ–≥–∏ (ReactNativeJS)
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ (FATAL, AndroidRuntime)
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 1000 –∑–∞–ø–∏—Å–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –æ—Ç–ª–∞–¥–∫—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–∞)
export ENHANCED_DEBUG=true|false

# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –æ—Ç–ª–∞–¥–∫–æ–π
npm run test:local

# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã)
ENHANCED_DEBUG=false npm run test:local
```

## –ì–¥–µ –Ω–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –æ—Ç—á–µ—Ç–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –≤ Allure –æ—Ç—á–µ—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–ø–∞–≤—à–µ–≥–æ —Ç–µ—Å—Ç–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:

1. **üîç –ü–æ–ª–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç —Å–æ –≤—Å–µ–π –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
2. **üì± UI Hierarchy (XML)** - XML –¥–∞–º–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
3. **üìã –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ)** - —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ª–æ–≥–∏
4. **–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ** - –∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ
5. **–í–∏–¥–µ–æ** - –∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ
6. **logcat (tail 500)** - –∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–∫–∏ "Element not found"

1. –°–º–æ—Ç—Ä–∏–º **UI Hierarchy** - –µ—Å—Ç—å –ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º **–ü–æ–ª–Ω—É—é –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–∏ activity
3. –ò–∑—É—á–∞–µ–º **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. –°–º–æ—Ç—Ä–∏–º **–ü–æ–ª–Ω—É—é –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –Ω–µ—Ç –ª–∏ OutOfMemory –æ—à–∏–±–æ–∫
3. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –ê–Ω–∞–ª–∏–∑ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

1. –ü—Ä–æ–≤–µ—Ä—è–µ–º **–ü–æ–ª–Ω—É—é –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ç–∏
2. –°–º–æ—Ç—Ä–∏–º **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –µ—Å—Ç—å –ª–∏ —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏
3. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º context –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "more than one device/emulator"

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö. –í –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç:

```
[TraceEnhancer] Using device: emulator-5554
[TraceEnhancer] Executing: adb -s emulator-5554 shell getprop ro.product.model
```

### –ü—É—Å—Ç—ã–µ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö:

- `–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ` - –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å
- `–æ—à–∏–±–∫–∞ adb` - –ø—Ä–æ–±–ª–µ–º–∞ —Å adb –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
- `–æ—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è` - –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –¥–∞–Ω–Ω—ã—Ö

### –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

–ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è: `ENHANCED_DEBUG=false`

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- –í—Å–µ –æ—à–∏–±–∫–∏ —Å–±–æ—Ä–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- Timeout –¥–ª—è –∫–æ–º–∞–Ω–¥ adb: 5-10 —Å–µ–∫—É–Ω–¥
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –æ–±—ä–µ–º–∞
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É "more than one device"
- **JavaScript —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç grep
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π —Å–±–æ—Ä** - UI Hierarchy, —Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ª–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞ —Å–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: ~3-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ —É–ø–∞–≤—à–∏–π —Ç–µ—Å—Ç
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —É—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã (—Å–±–æ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö)
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ ENHANCED_DEBUG=false –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å
